// Header Hook - 监控请求头设置
(function() {
    // XHR Header Hook
    const originalSetRequestHeader = XMLHttpRequest.prototype.setRequestHeader;
    XMLHttpRequest.prototype.setRequestHeader = function(name, value) {
        console.log('[XHR Header]', name, ':', value);
        // 可在此处修改特定header
        // if (name === 'Authorization') { value = 'Bearer xxx'; }
        return originalSetRequestHeader.apply(this, arguments);
    };

    // Fetch Header Hook
    const originalFetch = window.fetch;
    window.fetch = function(input, init) {
        if (init && init.headers) {
            console.log('[Fetch Headers]', init.headers);
        }
        return originalFetch.apply(this, arguments);
    };

    console.log('[Hook] Header Hook 已注入');
})();
